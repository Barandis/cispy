<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Cispy - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-cispy.html">cispy</a></li><li><a href="module-cispy_buffers.html">cispy/buffers</a></li><li><a href="module-cispy_channel.html">cispy/channel</a></li><li><a href="module-cispy_utils.html">cispy/utils</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-cispy_buffers-Buffer.html">Buffer</a><ul class='methods'><li data-type='method'><a href="module-cispy_buffers-Buffer.html#remove">remove</a></li></ul></li><li><a href="module-cispy_buffers-DroppingBuffer.html">DroppingBuffer</a><ul class='methods'><li data-type='method'><a href="module-cispy_buffers-DroppingBuffer.html#add">add</a></li></ul></li><li><a href="module-cispy_buffers-FixedBuffer.html">FixedBuffer</a><ul class='methods'><li data-type='method'><a href="module-cispy_buffers-FixedBuffer.html#add">add</a></li></ul></li><li><a href="module-cispy_buffers-Queue.html">Queue</a><ul class='methods'><li data-type='method'><a href="module-cispy_buffers-Queue.html#dequeue">dequeue</a></li><li data-type='method'><a href="module-cispy_buffers-Queue.html#enqueue">enqueue</a></li><li data-type='method'><a href="module-cispy_buffers-Queue.html#filter">filter</a></li><li data-type='method'><a href="module-cispy_buffers-Queue.html#peek">peek</a></li></ul></li><li><a href="module-cispy_buffers-SlidingBuffer.html">SlidingBuffer</a><ul class='methods'><li data-type='method'><a href="module-cispy_buffers-SlidingBuffer.html#add">add</a></li></ul></li><li><a href="module-cispy_channel-Channel.html">Channel</a></li><li><a href="module-cispy_utils-CispyUtils.html">CispyUtils</a><ul class='methods'><li data-type='method'><a href="module-cispy_utils-CispyUtils.html#.debounce">debounce</a></li><li data-type='method'><a href="module-cispy_utils-CispyUtils.html#.map">map</a></li><li data-type='method'><a href="module-cispy_utils-CispyUtils.html#.partition">partition</a></li><li data-type='method'><a href="module-cispy_utils-CispyUtils.html#.pipe">pipe</a></li><li data-type='method'><a href="module-cispy_utils-CispyUtils.html#.reduce">reduce</a></li><li data-type='method'><a href="module-cispy_utils-CispyUtils.html#.split">split</a></li><li data-type='method'><a href="module-cispy_utils-CispyUtils.html#.tap">tap</a></li><li data-type='method'><a href="module-cispy_utils-CispyUtils.html#.throttle">throttle</a></li><li data-type='method'><a href="module-cispy_utils-CispyUtils.html#.untap">untap</a></li><li data-type='method'><a href="module-cispy_utils-CispyUtils.html#.untapAll">untapAll</a></li></ul></li><li><a href="module-cispy-Cispy.html">Cispy</a><ul class='methods'><li data-type='method'><a href="module-cispy-Cispy.html#.alts">alts</a></li><li data-type='method'><a href="module-cispy-Cispy.html#.altsAsync">altsAsync</a></li><li data-type='method'><a href="module-cispy-Cispy.html#.chan">chan</a></li><li data-type='method'><a href="module-cispy-Cispy.html#.close">close</a></li><li data-type='method'><a href="module-cispy-Cispy.html#.config">config</a></li><li data-type='method'><a href="module-cispy-Cispy.html#.droppingBuffer">droppingBuffer</a></li><li data-type='method'><a href="module-cispy-Cispy.html#.fixedBuffer">fixedBuffer</a></li><li data-type='method'><a href="module-cispy-Cispy.html#.go">go</a></li><li data-type='method'><a href="module-cispy-Cispy.html#.put">put</a></li><li data-type='method'><a href="module-cispy-Cispy.html#.putAsync">putAsync</a></li><li data-type='method'><a href="module-cispy-Cispy.html#.sleep">sleep</a></li><li data-type='method'><a href="module-cispy-Cispy.html#.slidingBuffer">slidingBuffer</a></li><li data-type='method'><a href="module-cispy-Cispy.html#.take">take</a></li><li data-type='method'><a href="module-cispy-Cispy.html#.takeOrThrow">takeOrThrow</a></li><li data-type='method'><a href="module-cispy-Cispy.html#.timeout">timeout</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">Cispy</h1>
    

    




<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="module-cispy.html">cispy</a>~</span>
        
        Cispy
        </h2>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="api.js.html">api.js</a>, <a href="api.js.html#line36">line 36</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




            
                <div class="description"><p>The core namespace under which all of the main functions reside in the API. Everything in this namespace is
accessible as a member of the main <code>cispy</code> object that is required, imported, or accessed as a global object.</p></div>
            

            
        
        </div>
    

    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".CLOSED"><span class="type-signature">(static, constant) </span>CLOSED<span class="type-signature"> :Symbol</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_channel.js.html">modules/channel.js</a>, <a href="modules_channel.js.html#line92">line 92</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>The value returned from a take on a channel when that channel is closed and has no more values available.</strong></p>
<p>This is a special value that is returned under a certain circumstance, namely when a take is performed on a closed
channel. Because of that, it cannot be returned from a take on an open channel. For that reason, <code>CLOSED</code> is the
only value that cannot be put onto a channel - it would be impossible to distinguish between a legitimate value of
<code>CLOSED</code> and an actual closed channel.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Symbol</span>


        </li>
    </ul>






        
            
<h4 class="name" id=".DEFAULT"><span class="type-signature">(static, constant) </span>DEFAULT<span class="type-signature"> :Symbol</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_channel.js.html">modules/channel.js</a>, <a href="modules_channel.js.html#line105">line 105</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>The name of the channel returned from <code>await <a href="module-cispy-Cispy.html#.alts">alts</a></code> (generator),
await <a href="module-cispy-Cispy.html#.alts">alts</a><code>(promise), and</code><a href="module-cispy-Cispy.html#.altsAsync">altsAsync</a>` when the default is returned as its value.</strong></p>
<p>This only happens when an alts call is performed, all operations are initially blocking, and a <code>default</code> option is
sent. The immediate response in that situation is <code>{ value: options.default, channel: DEFAULT }</code>.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Symbol</span>


        </li>
    </ul>






        
            
<h4 class="name" id=".EMPTY"><span class="type-signature">(static, constant) </span>EMPTY<span class="type-signature"> :Symbol</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_buffers.js.html">modules/buffers.js</a>, <a href="modules_buffers.js.html#line41">line 41</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>The value returned from a buffer when it has no values in it.</strong></p>
<p>This is used instead of <code>null</code> because <code>null</code> is a value that can actually be put onto a channel (and therefore
into a buffer backing that channel). That means that, despite the assertion that only
<code><a href="module-cispy-Cispy.html#.CLOSED">CLOSED</a></code> cannot be put onto a channel, it's probably not a great idea to put
<code>EMPTY</code> onto an <em>unbuffered</em> channel. While it won't cause an error to be thrown, and while it will be removed from
the buffer to allow the next value to be removed, it's likely to cause some odd behavior.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Symbol</span>


        </li>
    </ul>






        
            
<h4 class="name" id=".MESSAGE_CHANNEL"><span class="type-signature">(static, constant) </span>MESSAGE_CHANNEL<span class="type-signature"> :Symbol</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_dispatcher.js.html">modules/dispatcher.js</a>, <a href="modules_dispatcher.js.html#line78">line 78</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-cispy-Cispy.html#.config">config</a></li>
        </ul>
    </dd>
    

    
</dl>





<div class="description">
    <p><strong>The dispatch method option indicating that a <code>MessageChannel</code> should be used to dispatch tasks.</strong></p>
<p>For environments that don't support <code>MessageChannel</code>s, this falls back to
<code>SET\_TIMEOUT</code>.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Symbol</span>


        </li>
    </ul>






        
            
<h4 class="name" id=".SET_IMMEDIATE"><span class="type-signature">(static, constant) </span>SET_IMMEDIATE<span class="type-signature"> :Symbol</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_dispatcher.js.html">modules/dispatcher.js</a>, <a href="modules_dispatcher.js.html#line66">line 66</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-cispy-Cispy.html#.config">config</a></li>
        </ul>
    </dd>
    

    
</dl>





<div class="description">
    <p><strong>The dispatch method option indicating that <code>setImmediate</code> should be used to dispatch tasks.</strong></p>
<p>This is the default option. For environments that don't support <code>setImmediate</code>, this falls back to
<code>MESSAGE\_CHANNEL</code>.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Symbol</span>


        </li>
    </ul>






        
            
<h4 class="name" id=".SET_TIMEOUT"><span class="type-signature">(static, constant) </span>SET_TIMEOUT<span class="type-signature"> :Symbol</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_dispatcher.js.html">modules/dispatcher.js</a>, <a href="modules_dispatcher.js.html#line90">line 90</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-cispy-Cispy.html#.config">config</a></li>
        </ul>
    </dd>
    

    
</dl>





<div class="description">
    <p><strong>The dispatch method option indicating that <code>setTimeout</code> should be used to dispatch tasks.</strong></p>
<p>This method is always available, but it's also always less efficient than any other method, so it should be used
as a last resort.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Symbol</span>


        </li>
    </ul>






        
            
<h4 class="name" id=".utils"><span class="type-signature">(static) </span>utils<span class="type-signature"> :<a href="module-cispy_util-CispyUtils.html">module:cispy/util~CispyUtils</a></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="api.js.html">api.js</a>, <a href="api.js.html#line125">line 125</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>A set of utility functions for working with channels.</strong></p>
<p>This is a small 'standard library' of promise-based operations that are useful when working with channels.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="module-cispy_util-CispyUtils.html">module:cispy/util~CispyUtils</a></span>


        </li>
    </ul>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".alts"><span class="type-signature">(static) </span>alts<span class="signature">(operations, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_ops.js.html">modules/ops.js</a>, <a href="modules_ops.js.html#line416">line 416</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>Completes the first operation among the provided operations that comes available, blocking the process until
then.</strong></p>
<p><code>operations</code> is an array whose elements must be channels or two-element sub-arrays of channels and values, in any
combination. An operation that is a channel is a take operation on that channel. An operation that is a two-element
array is a put operation on that channel using that value. Exactly one of these operations will complete, and it
will be the first operation that unblocks.</p>
<p>This function <em>must</em> be called from within an <code>async</code> function and as part of an <code>await</code> expression.</p>
<p>When <code>alts</code> is completed and its process unblocks, its <code>await</code> expression evaluates to an object of two properties.
The <code>value</code> property becomes exactly what would have been returned by the equivalent <code>await put</code> or <code>await take</code>
operation: a boolean in the case of a put, or the taken value in the case of a take. The <code>channel</code> property is set
to the channel where the operation actually took place. This will be equivalent to the channel in the <code>operations</code>
array which completed first, allowing the process to unblock.</p>
<p>If there is more than one operation already available to complete when the call to <code>alts</code> is made, the operation
with the highest priority will be the one to complete. Regularly, priority is non-deterministic (i.e., it's set
randomly). However, if the options object has a <code>priority</code> value set to <code>true</code>, priority will be assigned in the
order of the operations in the supplied array.</p>
<p>If all of the operations must block (i.e., there are no pending puts for take operations, or takes for put
operations), a default value may be returned. This is only done if there is a <code>default</code> property in the options
object, and the value of that property becomes the value returned by <code>await alts</code>. The channel is set to the
special value <code><a href="module-cispy-Cispy.html#.DEFAULT">DEFAULT</a></code>.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>operations</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>A collection of elements that correspond to take and put operations. A take operation
    is signified by an element that is a channel (which is the channel to be taken from). A put operation is
    specified by an element that is itself a two-element array, which has a channel followed by a value (which is
    the channel and value to be put).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>{}</code>
                
                </td>
            

            <td class="description last"><p>An optional object which can change the behavior of <code>alts</code> through two properties.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>priority</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>false</code>
                
                </td>
            

            <td class="description last"><p>If <code>true</code>, then the priority of operations to complete when more than one
    is immediately available is a priority according to position within the operations array (earlier positions
    have the higher priority). If <code>false</code> or not present, the priorty of operation completion is random.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>default</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>If set and all of the operations initially block, the <code>alts</code> call completes
    immediately with the value of this option (the channel will be <code><a href="module-cispy-Cispy.html#.DEFAULT">DEFAULT</a>)</code>. If
    not set, the <code>alts</code> call will block until one of the operations completes and that value and channel will be the
    ones returned.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that will resolve to an object of two properties: <code>value</code> will contain the value that
    would have been returned by the corresponding <code><a href="module-cispy-Cispy.html#.put">put</a></code> or
    <code><a href="module-cispy-Cispy.html#.take">take</a></code> operation; and <code>channel</code> will be a reference to the channel
    that completed the operation to allow <code>alts</code> to unblock.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id=".altsAsync"><span class="type-signature">(static) </span>altsAsync<span class="signature">(operations, callback, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_ops.js.html">modules/ops.js</a>, <a href="modules_ops.js.html#line164">line 164</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>Completes the first operation among the provided operations that comes available, without blocking.</strong></p>
<p>This means that a call to <code>altsAsync</code> does not go into an <code>await</code> expression, and it is not necessary to use it
inside a process. Rather than blocking until an operation completes, this one returns immediately and then invokes
the callback (if provided) as soon as one of the supplied operations completes. It can be regarded as a
non-blocking version of generator-based <code><a href="module-cispy-Cispy.html#.alts">alts</a></code> or promise-based
<code>alts</code>.</p>
<p>This function uses an operations list that's identical to the one used by <code>alts</code>. It's
an array of values; if a value is a channel, then that operation is a take on that channel, while if it's a
two-element array of channel and value, then that operation is a put of that value onto that channel. All options
that are available to <code><a href="module-cispy-Cispy.html#.alts">alts</a></code> are also available here.</p>
<p>The callback is a function of one parameter, which in this case is an object with <code>value</code> and <code>channel</code> properties.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>operations</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Object></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>A collection of elements that correspond to take and put operations. A take operation
    is signified by an element that is a channel (which is the channel to be taken from). A put operation is
    specified by an element that is itself a two-element array, which has a channel followed by a value (which is
    the channel and value to be put).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-cispy.html#~altsCallback">module:cispy~altsCallback</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>A function that gets invoked when one of the operations completes.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>{}</code>
                
                </td>
            

            <td class="description last"><p>An optional object which can change the behavior of <code>alts</code> through two properties.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>priority</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>false</code>
                
                </td>
            

            <td class="description last"><p>If <code>true</code>, then the priority of operations to complete when more than one
    is immediately available is a priority according to position within the operations array (earlier positions
    have the higher priority). If <code>false</code> or not present, the priorty of operation completion is random.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>default</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>If set and all of the operations initially block, the <code>alts</code> call completes
    immediately with the value of this option (the channel will be <code><a href="module-cispy-Cispy.html#.DEFAULT">DEFAULT</a>)</code>. If
    not set, the <code>alts</code> call will block until one of the operations completes and that value and channel will be the
    ones returned.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id=".chan"><span class="type-signature">(static) </span>chan<span class="signature">(buffer<span class="signature-attributes">opt</span>, xform<span class="signature-attributes">opt</span>, handler<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="module-cispy_channel-Channel.html">module:cispy/channel~Channel</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_channel.js.html">modules/channel.js</a>, <a href="modules_channel.js.html#line695">line 695</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>Creates and returns a new channel.</strong></p>
<p>By default this channel will be a simple unbuffered, untransformed channel, but that can be changed through
parameters to this function. A channel does not have any externally useful functions. It exists largely to be
passed into <code><a href="module-cispy-Cispy.html#.put">put</a></code>, <code><a href="module-cispy-Cispy.html#.take">take</a></code>, and
<code><a href="module-cispy-Cispy.html#.alts">alts</a></code> invocations, along with their non-blocking variations
(<code><a href="module-cispy-Cispy.html#.putAsync">putAsync</a></code>, <code>takeAsync</code>, and
<code><a href="module-cispy-Cispy.html#.altsAsync">altsAsync</a></code>).</p>
<p>If a buffer value is provided, it defines what buffer should back the channel. If this is <code>null</code>, <code>0</code>, or
completely missing, the channel will be unbuffered. If it's a positive number, the channel will be buffered by a
<a href="module-cispy_buffers-FixedBuffer.html">FixedBuffer</a> of that size. If it's a
<a href="module-cispy_buffers-Buffer.html">Buffer</a> object, that object will be used as the channel's buffer.</p>
<p><code>chan</code> supports transducers by allowing a transducer function to be associated with it. This is passed as the
second parameter and can only be used if the channel is buffered (otherwise an error is thrown). This transducer
function must take another transducer as a parameter (allowing transformers to be chained), and it must return an
object conforming to the transducer protocol. The transducer functions provided by several libraries meet these
requirements.</p>
<p>Errors in the transformation process can be handled by passing an error handler. This is a function that expects to
receive an error object as a parameter and can return a value that is then put onto the channel. If this value is
<code><a href="module-cispy-Cispy.html#.CLOSED">CLOSED</a></code>, then no value will be put onto the channel upon handler completion.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>buffer</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>
|

<span class="param-type"><a href="module-cispy_buffers-Buffer.html">module:cispy/buffers~Buffer</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>0</code>
                
                </td>
            

            <td class="description last"><p>The buffer object that should back this channel. If
    this is a positive number, a fixed buffer of that size will be created to back the channel. If it is <code>0</code> or
    <code>null</code> (or is just missing), the new channel will be unbuffered.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>xform</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-cispy.html#~transducer">module:cispy~transducer</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>A transducer to run each value through before putting it onto the channel.
    This function should expect one parameter (another transducer that it's chained to) and return an object that
    conforms to the transducer protocol. This is a reasonably well-supported protocol that means that transducers
    from a few libraries should work fine out of the box. If a transducer is provided on an unbuffered channel, an
    error will be thrown.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>handler</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-cispy.html#~exceptionHandler">module:cispy~exceptionHandler</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>An error handler that is run whenever an error occurs inside a
    transducer function. If that happens, this function is called with one parameter, which is the error object.
    The value that the handler returns (if it is not <code><a href="module-cispy-Cispy.html#.CLOSED">CLOSED</a></code>) will be put onto the
    channel when the handler finishes running.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>A set of options for configuring the channel's queue.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>maxDirty</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>64</code>
                
                </td>
            

            <td class="description last"><p>The maximum number of dirty operations that can be in the queue
    before those operations are subject to being purged. Dirty operations are those that may not be valid anymore
    because they were in the list of operations passed to <code>alts</code> but were not chosen to run. This provides a chance
    for a very minor performance tweak and is best left alone.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxQueued</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>1024</code>
                
                </td>
            

            <td class="description last"><p>The maximum number of operations that can be queued up at the same
    time. This prevents infinite loops from accidentally eating up all of the available memory.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A new channel.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-cispy_channel-Channel.html">module:cispy/channel~Channel</a></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id=".close"><span class="type-signature">(static) </span>close<span class="signature">(channel)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_channel.js.html">modules/channel.js</a>, <a href="modules_channel.js.html#line740">line 740</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>Closes a channel.</strong></p>
<p>Marks a particular channel as closed. A closed channel cannot accept any new puts
(<code><a href="module-cispy-Cispy.html#.put">put</a></code> will return <code>false</code> if an attempt is made, and no new value will be on the
channel). If it's buffered, it will* still provide the values that are already on the channel until all of them are
taken, after which any <code><a href="module-cispy-Cispy.html#.take">take</a></code> will return <code><a href="module-cispy-Cispy.html#.CLOSED">CLOSED</a></code>.</p>
<p>If there are pending takes on a channel when it's closed, then all takes will immediately return with
<code><a href="module-cispy-Cispy.html#.CLOSED">CLOSED</a></code>.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-cispy_channel-Channel.html">module:cispy/channel~Channel</a></span>


            
            </td>

            

            

            <td class="description last"><p>The channel to be closed.</p></td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id=".config"><span class="type-signature">(static) </span>config<span class="signature">(opts)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_dispatcher.js.html">modules/dispatcher.js</a>, <a href="modules_dispatcher.js.html#line122">line 122</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>Sets one of the dispatcher configuration options.</strong></p>
<p>This is advanced setting for the dispatcher that is responsible for queueing up channel operations and processes.
It is likely that this function will never need to be called in normal operation.</p>
<p>If any recognized options are specified in the options object passed to <code>config</code>, then the option is set to the
value sent in. Properties that aren't any of these four options are ignored, and any of these options that do not
appear in the passed object are left with their current values.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>A mapping of options to their new values. Extra values (properties that are not options) are
    ignored.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>taskBatchSize</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The maximum number of tasks that the dispatcher will run in a single batch
    (by default, this is 1024). If the number of pending tasks exceeds this, the remaining are not discarded.
    They're simply run as part of another batch after the current batch completes.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dispatchMethod</code></td>
            

            <td class="type">
            
                
<span class="param-type">Symbol</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The method used to dispatch a process into a separate line of execution.
    Possible values are <code>SET\_IMMEDIATE</code>,
    <code>MESSAGE\_CHANNEL</code>, or
    <code>SET\_TIMEOUT</code>, with
    the default being <code>SET\_IMMEDIATE</code>. If a method is set but is not
    available in that environment, then it will silently fall back to the next method that is available.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id=".droppingBuffer"><span class="type-signature">(static) </span>droppingBuffer<span class="signature">(size)</span><span class="type-signature"> &rarr; {<a href="module-cispy_buffers-DroppingBuffer.html">module:cispy/buffers~DroppingBuffer</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_buffers.js.html">modules/buffers.js</a>, <a href="modules_buffers.js.html#line320">line 320</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>Creates a dropping buffer of the specified capacity.</strong></p>
<p>A dropping buffer silently drops the item being added if the buffer is already at capacity. Since adding a new
item will always 'succeed' (even if it succeeds by just ignoring the add), it is never considered full and
therefore a put to a channel buffered by a dropping buffer never blocks.</p>
<p>This buffer is able to be passed to <code><a href="module-cispy-Cispy.html#.chan">chan</a></code> to create a buffered channel.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>size</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The number of items that the new buffer can hold before newest items are dropped on add.</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A new dropping buffer of the specified capacity.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-cispy_buffers-DroppingBuffer.html">module:cispy/buffers~DroppingBuffer</a></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id=".fixedBuffer"><span class="type-signature">(static) </span>fixedBuffer<span class="signature">(size)</span><span class="type-signature"> &rarr; {<a href="module-cispy_buffers-FixedBuffer.html">module:cispy/buffers~FixedBuffer</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_buffers.js.html">modules/buffers.js</a>, <a href="modules_buffers.js.html#line256">line 256</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>Creates a fixed buffer of the specified capacity.</strong></p>
<p>A fixed buffer is a 'normal' buffer, one that stores and returns items on demand. While it is capable of being
over-filled, that ability is not used in Cispy. A buffer that is full will cause the next put to its channel to
block until at least one item is removed from the buffer.</p>
<p>This buffer is able to be passed to <code><a href="module-cispy-Cispy.html#.chan">chan</a></code> to create a buffered channel.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>size</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The number of items that the new buffer can hold before it's full.</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A new fixed buffer of the specified capacity.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-cispy_buffers-FixedBuffer.html">module:cispy/buffers~FixedBuffer</a></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id=".go"><span class="type-signature">(static) </span>go<span class="signature">(fn, &hellip;args)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_ops.js.html">modules/ops.js</a>, <a href="modules_ops.js.html#line461">line 461</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>Invokes an async function acting as a process.</strong></p>
<p>This is purely a convenience function, driven by the fact that it's necessary to use an IIFE to invoke an inline
async function, and that's not very aesthetically pleasing. It does no more than invoke the passed function, but that
at least releases us from the need to put the empty parentheses after the function definition.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The async function being used as a process.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>args</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last"><p>Arguments that are sent to the async function when it's invoked.</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The promise returned by the async function.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id=".put"><span class="type-signature">(static) </span>put<span class="signature">(channel, value<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_ops.js.html">modules/ops.js</a>, <a href="modules_ops.js.html#line302">line 302</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>Puts a value onto a channel, blocking the process until that value is taken from the channel by a different
process (or until the channel closes).</strong></p>
<p>A value is always put onto the channel, but if that value isn't specified by the second parameter, it is
<code>undefined</code>. Any value may be put on a channel, with the sole exception of the special value
<code><a href="module-cispy-Cispy.html#.CLOSED">CLOSED</a></code>.</p>
<p>This function <em>must</em> be called from within an <code>async</code> function and as part of an <code>await</code> expression.</p>
<p>When <code>put</code> is completed and its process unblocks, its <code>await</code> expression evaluates to a status boolean that
indicates what caused the process to unblock. That value is <code>true</code> if the put value was successfully taken by
another process, or <code>false</code> if the unblocking happened because the target channel closed.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-cispy_channel-Channel.html">module:cispy/channel~Channel</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The channel that the process is putting a value onto.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The value being put onto the channel.</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that will resolve to <code>true</code> or <code>false</code> depending on whether the put value is actually
    taken.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id=".putAsync"><span class="type-signature">(static) </span>putAsync<span class="signature">(channel, value<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_ops.js.html">modules/ops.js</a>, <a href="modules_ops.js.html#line246">line 246</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>Puts a value onto a channel without blocking.</strong></p>
<p>This means that a call to <code>putAsync</code> does not go into an <code>await</code> expression, and it is not necessary to use it
inside a process. Rather than blocking until the put value is taken by another process, this one returns
immediately and then invokes the callback (if provided) when the put value is taken. It can be seen as a
non-blocking version of generator-based <code><a href="module-cispy-Cispy.html#.put">put</a></code> or promise-based
<code>put</code>.</p>
<p>While the primary use of this function is to put values onto channels in contexts where being inside a process is
impossible (for example, in a DOM element's event handler), it can still be used inside processes at times when
it's important to make sure that the process doesn't block from the put.</p>
<p>The callback is a function of one parameter. The parameter that's supplied to the callback is the same as what is
supplied to <code>await put</code>: <code>true</code> if the value was taken, or <code>false</code> if the channel was closed. If the callback isn't
present, nothing will happen after the value is taken.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:cispy/core/channel~Channel</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The channel that the value is being put onto.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The value being put onto the channel.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-cispy.html#~nbCallback">module:cispy~nbCallback</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>A function that gets invoked either when the value is taken by another
    process or when the channel is closed. This function can take one parameter, which is <code>true</code> in the former case
    and <code>false</code> in the latter.</p></td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id=".sleep"><span class="type-signature">(static) </span>sleep<span class="signature">(delay<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_ops.js.html">modules/ops.js</a>, <a href="modules_ops.js.html#line441">line 441</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>Blocks the process for the specified time (in milliseconds) and then unblocks it.</strong></p>
<p>This implements a delay, but one that's superior to other kinds of delays (<code>setTimeout</code>, etc.) because it blocks
the process and allows the dispatcher to allow other processes to run while this one waits. If the delay is set to
<code>0</code> or is missing altogether, the process will relinquish control to the next process in the queue and immediately
reschedule itself to be continued, rather than blocking.</p>
<p>This function <em>must</em> be called from within an <code>async</code> function and as part of an <code>await</code> expression.</p>
<p>When this function completes and its process unblocks, the <code>await</code> expression doesn't take on any meaningful value.
The purpose of this function is simply to delay, not to communicate any data.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>delay</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>0</code>
                
                </td>
            

            <td class="description last"><p>the number of milliseconds that the process will block for. At the end of that time, the
    process is again eligible to be run by the dispatcher again. If this is missing or set to <code>0</code>, the process
    will cede execution to the next one but immediately requeue itself to be run again.</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that resolves with no meaningful result when the time has elapsed.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id=".slidingBuffer"><span class="type-signature">(static) </span>slidingBuffer<span class="signature">(size)</span><span class="type-signature"> &rarr; {<a href="module-cispy_buffers-SlidingBuffer.html">module:cispy/buffers~SlidingBuffer</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_buffers.js.html">modules/buffers.js</a>, <a href="modules_buffers.js.html#line384">line 384</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>Creates a sliding buffer of the specified capacity.</strong></p>
<p>A sliding buffer drops the first-added (oldest) item already in the buffer if a new item is added when the buffer
is already at capacity. Since it's always capable of having items added to it, it's never considered full, and
therefore a put to a channel buffered by a sliding buffer never blocks.</p>
<p>This buffer is able to be passed to <code><a href="module-cispy-Cispy.html#.chan">chan</a></code> to create a buffered channel.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>size</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The number of items that the new buffer can hold before oldest items are dropped on add.</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A new sliding buffer of the specified capacity.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-cispy_buffers-SlidingBuffer.html">module:cispy/buffers~SlidingBuffer</a></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id=".take"><span class="type-signature">(static) </span>take<span class="signature">(channel)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_ops.js.html">modules/ops.js</a>, <a href="modules_ops.js.html#line325">line 325</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>Takes a value from a channel, blocking the process until a value becomes available to be taken (or until the
channel closes with no more values on it to be taken).</strong></p>
<p>This function <em>must</em> be called from within an <code>async</code> function and as part of an <code>await</code> expression.</p>
<p>When <code>take</code> is completed and its process unblocks, its <code>await</code> expression evaluates to the actual value that was
taken. If the target channel closed, then all of the values already placed onto it are resolved by <code>take</code> as
normal, and once no more values are available, the special value <code><a href="module-cispy-Cispy.html#.CLOSED">CLOSED</a></code> is
returned.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-cispy_channel-Channel.html">module:cispy/channel~Channel</a></span>


            
            </td>

            

            

            <td class="description last"><p>The channel that the process is taking a value from.</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that will resolve to the value taken from the channel once that take is completed. If the
    channel closes without a value being made available, this will resolve to
    <code><a href="module-cispy-Cispy.html#.CLOSED">CLOSED</a></code>.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id=".takeOrThrow"><span class="type-signature">(static) </span>takeOrThrow<span class="signature">(channel)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_ops.js.html">modules/ops.js</a>, <a href="modules_ops.js.html#line359">line 359</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>Takes a value from a channel, blocking the process until a value becomes available to be taken (or until the
channel closes with no more values on it to be taken). If the taken value is an error object, that error is thrown
at that point.</strong></p>
<p>This function <em>must</em> be called from within an <code>async</code> function and as part of an <code>await</code> expression.</p>
<p>It functions in every way like <code><a href="module-cispy-Cispy.html#.take">take</a></code> <em>except</em> in the case that the
value on the channel is an object that has <code>Error.prototype</code> in its prototype chain (any built-in error, any
properly-constructed custom error). If that happens, the error is thrown, which will cause the returned promise to be
rejected with the error. It can then be handled up the promise chain like any other rejected promise.</p>
<p><code>takeOrThrow</code> is roughly equivalent to:</p>
<pre class="prettyprint source"><code>const value = await take(ch);
if (Error.prototype.isPrototypeOf(value)) {
  throw value;
}</code></pre>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-cispy_channel-Channel.html">module:cispy/channel~Channel</a></span>


            
            </td>

            

            

            <td class="description last"><p>The channel that the process is taking a value from.</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that will resolve to the value taken from the channel once that take is completed. If the
    channel closes without a value being made available, this will resolve to
    <code><a href="module-cispy-Cispy.html#.CLOSED">CLOSED</a></code>. If the taken value is an error, the promise will instead be rejected
    with the error object as the reason.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id=".timeout"><span class="type-signature">(static) </span>timeout<span class="signature">(delay)</span><span class="type-signature"> &rarr; {<a href="module-cispy_channel-Channel.html">module:cispy/channel~Channel</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_channel.js.html">modules/channel.js</a>, <a href="modules_channel.js.html#line720">line 720</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p><strong>Creates a new unbuffered channel that closes after some amount of time.</strong></p>
<p>This channel is able to be used for putting and taking as normal, but it will close after the number of
milliseconds in its <code>delay</code> parameter has passed. For that reason it's not really intended to be used for putting
and taking. Its primary purpose is to be a channel passed to <code><a href="module-cispy-Cispy.html#.alts">alts</a></code> to place a time
limit on how long its process will block.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>delay</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The number of milliseconds to keep the new channel open. After that much time passes, the
    channel will close automatically.</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A new channel that automatically closes after the delay completes.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-cispy_channel-Channel.html">module:cispy/channel~Channel</a></span>


    </dd>
</dl>

    


        
    

    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>


</body>
</html>